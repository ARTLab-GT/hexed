<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hexed: Notation and conventions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">hexed
   &#160;<span id="projectnumber">0.2.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('conventions.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Notation and conventions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page defines non-standard notation and conventions used in the theory and implementation of Hexed. If the meaning of a number or variable is unclear or ambiguous, look here for guidance. Also, please try to maintain these conventions when contributing to the code.</p>
<h1><a class="anchor" id="units"></a>
Units and physical quantities</h1>
<ul>
<li>Unless otherwise specified, all quantities are dimensional in the applicable SI units (i.e., derived from m, kg, s, K).</li>
<li>Unless otherwise specified, all angles are radian. Note, however, the radian is a concept for measuring angles, not an SI base unit (the "unit" rad is <a href="https://en.wikipedia.org/wiki/Radian">technically a dimensionless constant equal to 1</a>).</li>
<li>If you need to perform any unit conversions or reference physical constants, please use the values defined in <code><a class="el" href="namespacehexed_1_1constants.html" title="Mathematical and physical constants.">hexed::constants</a></code>, which are based on formal exact definitions (as opposed to approximations to some number of digits). In practice, of course, this isn't that important, but some obsessive part of my brain wants to know that all unit conversions are perfectly consistent up to machine precision.</li>
<li>If an extensive thermodynamic quantity (e.g., mass, volume, energy, as opposed to an intensive quantity like temperature or pressure) is specified without a reference quantity, it means per unit volume. For example, "energy" specified without other context will be in units of \( J/m^3 \).<ul>
<li>As a result, "mass" and "density" are synonymous. In fact, prefer "mass" so that all the conserved variables (momentum, mass, energy) are consistently extensive.</li>
</ul>
</li>
<li>Stagnation quantities shall be referred to as such. The word "total" shall not be used to indicate stagnation quantities. To clarify, for any thermodynamic variable, the <em>stagnation</em> value of that variable is the value it would take if the material in question were isentropically decelerated to zero velocity. For energy-type variables, "total" refers to the sum of internal (static) and kinetic components. With that in mind, please recall the following results of basic aerodynamics:<ul>
<li>The stagnation pressure is not in general equal to the sum of static and dynamic pressures; this is an approximation which is accurate in the limit as \( M \to 0 \).</li>
<li>The total energy \( e_t = \rho e + \frac12 \rho v^2 \) is <b>not</b> equal to the stagnation energy, which for a CPG is given by \( e_0 = c_v T \left(1 + \frac{\gamma - 1}{2} M^2\right) \).</li>
<li>The total enthalpy \( h_t = \rho h + \frac12 \rho v^2 \) <b>is</b> equal to the stagnation enthalpy \( h_0 \).</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="state_vector"></a>
State vector</h2>
<p>The flow state vector (often simply referred to as <code>state</code>) consists of the conserved variables. It has components [momentum, mass, total energy] (a.k.a. [ \( \rho \vec{v} \), \( \rho \), \( \rho e + \frac12 \rho v^2 \)]). E.g., in 3D that is [<code>momentum0</code> ( \(x\)-direction), <code>momentum1</code> ( \(y\)-direction), <code>momentum2</code> ( \(z\)-direction), mass, total energy].</p>
<p>This order is different from most codes, which use the order (mass, momentum, energy). The order for Hexed was chosen because it groups the vector and scalar quantities together and because the \(i\)th component of the state vector is equal to the \(i\)th component of momentum. The latter makes the code for certain formulae cleaner.</p>
<h1><a class="anchor" id="Terminology"></a>
Terminology</h1>
<p>Hexed uses some terms that are non-standard, or at least not completely universal. They are defined as follows:</p><ul>
<li><a class="anchor" id="kernel"></a><b>kernel</b>: A performance-critical function performs some of the core numerical operations.</li>
<li><a class="anchor" id="basis_row_size"></a>The <b>row size</b> of a polynomial basis is its degree + 1. I.e. the number of rows of quadrature points in each dimension, which equals the number of coefficients in the 1D case. It is usually more convenient to talk about the row size than the degree, as it is more directly related to the actual code implementation. The row size is not to be confused with the number of quadrature points, which depends on the dimensionality. E.g., a 4th degree basis in 3 dimensions has row size 5 and 125 quadrature points.</li>
<li><a class="anchor" id="node"></a><b>node</b>: An interpolation node for a basis of Lagrange (interpolating) polynomials. Hexed uses a collocated nodal scheme, so these coincide with the quadrature points.</li>
<li><a class="anchor" id="vertex"></a><b>vertex</b>: A single point shared by a collection of elements. Not to be confused with "node".</li>
</ul>
<h1><a class="anchor" id="Abbreviations"></a>
Abbreviations</h1>
<p>Some common abbreviations are defined as follows, in alphabetical order.</p><ul>
<li><code>con</code>: connection</li>
<li><code>def</code>: deformed</li>
<li><code>dim</code>: dimension<ul>
<li><code>i_dim</code> specifically serves to identify which of the coordinate axes is referenced in some operation.</li>
</ul>
</li>
<li><code>elem</code>: mesh element</li>
<li><code>ener</code>: energy</li>
<li><code>enth</code>: enthalpy</li>
<li><code>heat_rat</code>: ratio of heat capacities. Often denoted \( \gamma \) ("gamma") in thermodynamics.</li>
<li><code>i_</code>: index of ...<ul>
<li>If this is an index in a nested loop, the inside loops may use <code>j_</code> and <code>k_</code>.</li>
</ul>
</li>
<li><code>n_</code>: number of ...</li>
<li><code>pos</code>: position</li>
<li><code>pres</code>: pressure</li>
<li><code>qpoint</code>: "quadrature point"</li>
<li><code>_sq</code>: ... squared</li>
<li><code>stag</code>: stagnation</li>
<li><code>veloc</code>: velocity</li>
<li><code>vert</code>: vertex</li>
</ul>
<h1><a class="anchor" id="storage_order"></a>
Storage order</h1>
<p>Although C++ arrays and <a href="https://eigen.tuxfamily.org/dox/group__TutorialMatrixClass.html">Eigen matrices</a> can be useful for storing multidimensional array data, it is often necessary to access data via a pointer and a flat index. In that case, observe the following conventions.</p><ul>
<li>To define the layout of data in contiguous memory in the code, row-major array indexing syntax shall be used. For example, the line <div class="fragment"><div class="line"><span class="keywordtype">double</span>* some_data; <span class="comment">// Layout: [i_some_thing][i_other_thing]</span></div>
</div><!-- fragment --> indicates that <code>some_data</code> points to a block of doubles of size <code>n_some_thing*n_other_thing</code>, and that access to this array should look like <code>some_data[i_some_thing*n_other_thing + i_other_thing]</code>.</li>
<li><p class="startli">Data that is associated with locations in physical space, including vertices and quadrature points, is stored as an array where each array index corresponds to one physical coordinate. That is, the first index corresponds to the \(x\)-coordinate, the second to the \(y\)-coordinate, etc. Thus, when specifying memory layout, <code>[i_qpoint]</code> means the following, depending on the dimensionality:</p><ul>
<li>1D: <code>[i_row]</code></li>
<li>2D: <code>[i_row][j_row]</code></li>
<li>3D: <code>[i_row][j_row][k_row]</code></li>
</ul>
<p class="startli">where <code>0 &lt;= i_row &lt; row_size</code>. For example, for a 3D Cartesian element, if you are looking at the position of the <code>i_qpoint</code>th quadrature point, then <code>i_qpoint += 1</code> will change only the \(z\)-coordinate, <code>i_qpoint += row_size</code> will change only \(y\), and <code>i_qpoint += row_size*row_size</code> will change only \(x\).</p>
</li>
<li>Be careful of the fact that C++ storage order is row-major, whereas <a class="el" href="namespaceEigen.html" title="Linear algebra library. Used by Hexed but not included with the source.">Eigen</a> matrices are column-major by default. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
